"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var s={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{},[s.imgLoading?i("div",{staticClass:"img-loading"},[s._m(0)]):i("img",{attrs:{src:s.imgInfo.src}})])},staticRenderFns:[function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"sk-circle"},[i("div",{staticClass:"sk-circle1 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle2 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle3 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle4 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle5 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle6 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle7 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle8 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle9 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle10 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle11 sk-child"}),s._v(" "),i("div",{staticClass:"sk-circle12 sk-child"})])}],data:()=>({imgLoading:!0,imgWidth:0}),props:{isMobile:{default:!1,type:Boolean},imgInfo:{default:{},type:Object,required:!0}},mounted(){let s=new Image;s.src=this.imgInfo.src||"",s.onload=s=>{this.imgLoading=!1}}};var t={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("transition",{attrs:{name:"fade",appear:""}},[s.phoneAlbum?i("div",{staticClass:"vue-phonealbum-container",class:[{"is-show-parts":s.partsVisible}],style:{zIndex:s.zIndex},on:{mouseover:s.handleMouseOver,mouseout:s.handleMouseOut}},[i("div",{staticClass:"vue-phonealbum-bg",style:{background:s.backgroundColor}}),s._v(" "),i("div",{staticClass:"vue-phonealbum-inner",class:{grid:s.isGrid}},[i("div",{staticClass:"vue-phonealbum-stage"},[i("div",{staticClass:"vue-phonealbum-slide",style:{padding:s.padding+"px 0",transform:s.isZoom?"scale("+s.zoomMultiples+", "+s.zoomMultiples+")":"scale(1, 1)"}},[i("transition-group",{staticClass:"transition-wrapper",attrs:{name:"img",tag:"div"}},[s._l(s.imgsArr,(function(t,e){return[s.showImage(e)?i("CustomImage",{key:e,staticClass:"vue-phonealbum-slide-img",attrs:{isMobile:s.isMobile,imgInfo:t}}):s._e()]}))],2)],1)]),s._v(" "),i("div",{staticClass:"vue-phonealbum-navigation"},[i("div",{staticClass:"vue-phonealbum-button left",class:[{disabled:s.isNavigationDisabledLeft}],on:{click:s.last}},[i("span",{staticClass:"ve-phone-iconfont icon-zuojiantou"})]),s._v(" "),i("div",{staticClass:"vue-phonealbum-button right",class:[{disabled:s.isNavigationDisabledRight}],on:{click:s.next}},[i("span",{staticClass:"ve-phone-iconfont icon-youjiantou"})])]),s._v(" "),i("div",{staticClass:"vue-phonealbum-infobar"},[i("span",[s._v("1")]),s._v(" "),i("span",[s._v("/")]),s._v(" "),i("span",[s._v("2")])]),s._v(" "),i("div",{staticClass:"vue-phonealbum-toolbar"},[i("div",{staticClass:"vue-phonealbum-button"},[i("span",{staticClass:"ve-phone-iconfont icon-sousuo",on:{click:s.handleZoom}})]),s._v(" "),i("div",{staticClass:"vue-phonealbum-button",on:{click:s.handlePlay}},[i("span",{staticClass:"ve-phone-iconfont",class:[s.isPlay?"icon-zanting":"icon-bofang"]})]),s._v(" "),i("div",{staticClass:"vue-phonealbum-button",on:{click:s.handleSwitch}},[i("span",{staticClass:"ve-phone-iconfont icon-24gf-grid"})]),s._v(" "),i("div",{staticClass:"vue-phonealbum-button",on:{click:s.handleClose}},[i("span",{staticClass:"ve-phone-iconfont icon-guanbi"})])]),s._v(" "),i("div",{staticClass:"vue-phonealbum-progress",style:{"transition-duration":s.progressStart?s.playSpeed+"s":"0s",transform:s.progressStart?"scaleX(1)":"scaleX(0)",height:s.progressHeight+"px",background:s.progressColor},on:{transitionend:s.handleTransitionEnd}})]),s._v(" "),s.isGrid?i("div",{staticClass:"vue-phonealbum-thumb"},[i("div",{staticClass:"vue-phonealbum-thumb__list"},[s._l(s.imgsArr,(function(t,e){return[i("div",{key:e,staticClass:"vue-phonealbum-thumb__list-item",class:{active:s.showImage(e)},on:{click:function(t){return s.handleClickGridItem(e)}}},[i("img",{attrs:{src:t.src}})])]}))],2)]):s._e()]):s._e()])},staticRenderFns:[],name:"pt-vue-phonealbum",props:{zIndex:{default:1e4,type:Number},leaveTime:{type:Number,default:2e3},imgsArr:{type:Array,default:[]},padding:{type:Number,default:44},zoomMultiples:{type:Number,default:1.5},playSpeed:{type:Number,default:2},progressHeight:{type:Number,default:3},progressColor:{type:String,default:"#ff5268"},backgroundColor:{type:String,default:"#111"}},data:()=>({phoneAlbum:!1,partsVisible:!1,leaveTimeout:null,currentIndex:0,isMobile:!1,isZoom:!1,isPlay:!1,progressStart:!1,playInterval:null,isGrid:!1}),components:{CustomImage:s},computed:{isNavigationDisabledLeft(){return 0===this.currentIndex},isNavigationDisabledRight(){return this.currentIndex===this.imgsArr.length-1}},mounted(){this.isMobile=!!navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i)},methods:{show:function(s={}){this.currentIndex=Number(s.index)||0,this.phoneAlbum=!0},reset:function(){this.currentIndex=0,this.phoneAlbum=!1,this.progressStart=!1,this.isPlay=!1},handleClose:function(){this.reset()},handleClickGridItem:function(s){this.currentIndex=s},handleMouseOver:function(){this.partsVisible=!0,this.leaveTimeout&&(clearTimeout(this.leaveTimeout),this.leaveTimeout=null)},handleMouseOut:function(){this.leaveTimeout=setTimeout((()=>{this.partsVisible=!1}),this.leaveTime)},showImage:function(s){return this.currentIndex===s},dealPlay:function(s){"auto"!==s&&this.isPlay&&(this.isPlay=!1)},last:function(){this.dealPlay(),this.currentIndex=Math.max(this.currentIndex-1,0)},next:function(s){this.dealPlay(s),this.isNavigationDisabledRight||(this.isPlay&&(this.progressStart=!0),this.currentIndex=Math.min(this.currentIndex+1,this.imgsArr.length-1))},handleZoom(){this.isZoom=!this.isZoom},handlePlay(){this.isPlay=!this.isPlay,this.progressStart=!0,this.isPlay||(this.progressStart=!1)},handleTransitionEnd(){this.progressStart=!1,this.$nextTick((()=>{this.next("auto")}))},handleSwitch(){this.isGrid=!this.isGrid}}};const i=[t],e=function(s){i.forEach((t=>{s.component(t.name,t)}))};"undefined"!=typeof window&&window.Vue&&e(window.Vue),exports.default=t,exports.install=e;
